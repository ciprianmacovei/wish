import{componentQrl as I,inlinedQrl as h,useContext as y,jsx as G,_IMMUTABLE as mt,SkipRender as pt,useServerData as vt,useStore as f,_weakSerialize as _t,useSignal as C,useLexicalScope as b,useContextProvider as u,useTaskQrl as gt,Slot as j,useOnDocument as wt,implicit$FirstArg as O,createContext as _,noSerialize as tt,useEnvData as yt,_deserializeData as kt,getLocale as Lt,withLocale as X,_wrapSignal as Ct}from"@builder.io/qwik";import{jsx as S}from"@builder.io/qwik/jsx-runtime";import{z as K}from"zod";const qt=!0,Dt='((s,a,i,r)=>{i=(e,t)=>{t=document.querySelector("[q\\\\:base]"),t&&a.active&&a.active.postMessage({type:"qprefetch",base:t.getAttribute("q:base"),...e})},document.addEventListener("qprefetch",e=>{const t=e.detail;a?i(t):t.bundles&&s.push(...t.bundles)}),navigator.serviceWorker.register("/service-worker.js").then(e=>{r=()=>{a=e,i({bundles:s})},e.installing?e.installing.addEventListener("statechange",t=>{t.target.state=="activated"&&r()}):e.active&&r()}).catch(e=>console.error(e))})([])',U=_("qc-s"),et=_("qc-c"),F=_("qc-ic"),H=_("qc-h"),Y=_("qc-l"),$=_("qc-n"),nt=_("qc-a"),Kt=I(h(()=>{const{value:t}=y(F);if(t&&t.length>0){const e=t.length;let n=null;for(let o=e-1;o>=0;o--)n=G(t[o].default,{children:n,[mt]:{children:!1}});return n}return pt},"RouterOutlet_component_AKetNByE5TM")),R=Symbol(),bt=Symbol(),D=new Map,ot="qaction",St=(t,e,n,o)=>{const s=z(),i={head:s,withLocale:a=>X(o,a),getData:a=>{const r=a.__qrl.getHash();if(a.__brand==="server_loader"&&!(r in t.loaders))throw new Error("You can not get the returned data of a loader that has not been executed for this request.");const c=t.loaders[r];if(c instanceof Promise)throw new Error("Loaders returning a function can not be refered to in the head function.");return c},...e};for(let a=n.length-1;a>=0;a--){const r=n[a]&&n[a].head;r&&(typeof r=="function"?Z(s,X(o,()=>r(i))):typeof r=="object"&&Z(s,r))}return i.head},Z=(t,e)=>{typeof e.title=="string"&&(t.title=e.title),Q(t.meta,e.meta),Q(t.links,e.links),Q(t.styles,e.styles),Object.assign(t.frontmatter,e.frontmatter)},Q=(t,e)=>{if(Array.isArray(e))for(const n of e){if(typeof n.key=="string"){const o=t.findIndex(s=>s.key===n.key);if(o>-1){t[o]=n;continue}}t.push(n)}},z=()=>({title:"",meta:[],links:[],styles:[],frontmatter:{}}),Zt=()=>y(H),at=()=>y(Y),Et=()=>y($),It=()=>y(nt),Pt=()=>tt(yt("qwikcity")),rt=t=>t.pathname+t.search+t.hash,E=(t,e)=>new URL(t,e.href),At=(t,e)=>t.origin===e.origin,xt=(t,e)=>t.pathname===e.pathname,Tt=(t,e,n)=>{let o=e??"";return n&&(o+=(o?"&":"?")+ot+"="+encodeURIComponent(n.id)),t+(t.endsWith("/")?"":"/")+"q-data.json"+o},Rt=(t,e)=>{const n=t.href;if(typeof n=="string"&&n.trim()!==""&&typeof t.target!="string")try{const o=E(n,e),s=E("",e);if(At(o,s))return rt(o)}catch(o){console.error(o)}return null},Qt=(t,e,n)=>{if(t.prefetch===!0&&e){const o=E(e,n);if(!xt(o,E("",n)))return""}return null},Mt=t=>{typeof document<"u"&&document.dispatchEvent(new CustomEvent("qprefetch",{detail:t}))},Nt=async(t,e,n)=>{const o=new URL(t),s=o.pathname,l=o.search,i=Tt(s,l,n);let a;if(n||(a=D.get(i)),Mt({links:[s]}),!a){const r=jt(n);n&&(n.data=void 0),a=fetch(i,r).then(c=>{const g=new URL(c.url);if(g.origin!==location.origin||!Ot(g.pathname)){location.href=g.href;return}if((c.headers.get("content-type")||"").includes("json"))return c.text().then(k=>{const m=kt(k);if(!m){location.href=t;return}if(e&&D.delete(i),m.redirect)location.href=m.redirect;else if(n){const p=m.loaders[n.id];n.resolve({status:c.status,result:p})}return m});location.href=t}),n||D.set(i,a)}return a.then(r=>(r||D.delete(i),r))},jt=t=>{const e=t==null?void 0:t.data;if(e)return e instanceof FormData?{method:"POST",body:e}:{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json, charset=UTF-8"}}},Ot=t=>t.endsWith(Ut),Ut="/q-data.json",Gt=I(h(()=>{const t=Pt();if(!(t!=null&&t.params))throw new Error("Missing Qwik City Env Data");const e=vt("url");if(!e)throw new Error("Missing Qwik URL Env Data");const n=new URL(e),o=f({href:n.href,pathname:n.pathname,query:n.searchParams,params:t.params,isNavigating:!1}),s=_t(f(t.response.loaders)),l=C(rt(n)),i=f(z),a=f({headings:void 0,menu:void 0}),r=C(),c=t.response.action,g=c?t.response.loaders[c]:void 0,k=C(g?{id:c,data:t.response.formData,output:{result:g,status:t.response.status}}:void 0),m=h(async p=>{const[P,v,A]=b(),d=v.value;if(p){if(d===p)return;v.value=p}else v.value="",v.value=d;P.value=void 0,A.isNavigating=!0},"QwikCityProvider_component_goto_fX0bDjeJa0E",[k,l,o]);return u(et,a),u(F,r),u(H,i),u(Y,o),u($,m),u(U,s),u(nt,k),gt(h(({track:p})=>{const[P,v,A,d,W,Wt,B,w]=b();async function st(){const[ct,Bt]=p(()=>[B.value,P.value]),lt=Lt("");let x=new URL(ct,w.href),J,T=null;if(T=W.loadedRoute,J=W.response,T){const[ut,ht,dt]=T,V=x.pathname,q=ht,ft=q[q.length-1];w.href=x.href,w.pathname=V,w.params={...ut},w.query=x.searchParams,B.untrackedValue=V;const L=St(J,w,q,lt);v.headings=ft.headings,v.menu=dt,A.value=tt(q),d.links=L.links,d.meta=L.meta,d.styles=L.styles,d.title=L.title,d.frontmatter=L.frontmatter}}const it=st();if(qt)return it},"QwikCityProvider_component_useTask_02wMImzEAbk",[k,a,r,i,t,s,l,o])),S(j,{},"qY_0")},"QwikCityProvider_component_TxCFOy819ag"));h(t=>{const e=t.url??"http://localhost/",n=new URL(e),o=f({href:n.href,pathname:n.pathname,query:n.searchParams,params:t.params??{},isNavigating:!1}),s=C({}),l=h(async c=>{throw new Error("Not implemented")},"QwikCityMockProvider_component_goto_BUbtvTyvVRE"),i=f(z),a=f({headings:void 0,menu:void 0}),r=C();return u(et,a),u(F,r),u(H,i),u(Y,o),u($,l),u(U,s),S(j,{},"qY_1")},"QwikCityMockProvider_component_WmYC5H00wtI");const te=I(h(t=>{const e=Et(),n=at(),o=t.href,s={...t},l=Rt(s,n),i=Qt(t,l,n);return s["preventdefault:click"]=!!l,s.href=l||o,wt("qinit",h(()=>{window[R]||(window[R]=()=>{window[bt]||location.reload()},setTimeout(()=>{addEventListener("popstate",window[R])},0))},"Link_component_useOnDocument_u0YVoxt2aTY")),S("a",{...s,onClick$:h(()=>{const[a,r,c]=b();a&&c(r.href)},"Link_component_a_onClick_kzjavhDI3L0",[l,s,e]),"data-prefetch":i,onMouseOver$:h((a,r)=>M(r),"Link_component_a_onMouseOver_yiXwCC0m3jY"),onFocus$:h((a,r)=>M(r),"Link_component_a_onFocus_PrXIxv2vNXY"),onQVisible$:h((a,r)=>M(r,!0),"Link_component_a_onQVisible_EpaZ5qQ4Lg4"),children:S(j,{},"AD_0")},"AD_1")},"Link_component_8gdLBszqbaM")),M=(t,e)=>{t&&t.href&&t.hasAttribute("data-prefetch")&&(N||(N=innerWidth),(!e||e&&N<520)&&Nt(t.href))};let N=0;const ee=()=>G("script",{dangerouslySetInnerHTML:Dt});class Ft{constructor(e,n){this.__qrl=e,this.__schema=n,this.__brand="server_action"}use(){const e=at(),n=this.__qrl.getHash(),o=It(),s={actionPath:`?${ot}=${n}`,isRunning:!1,status:void 0,value:void 0,formData:void 0},l=f(()=>{const i=o.value;if(i&&(i==null?void 0:i.id)===n){const a=i.data;if(a instanceof FormData&&(s.formData=a),i.output){const{status:r,result:c}=i.output;s.status=r,s.value=c}}return s});return s.run=h((i={})=>{throw b(),new Error(`Actions can not be invoked within the server during SSR.
Action.run() can only be called on the browser, for example when a user clicks a button, or submits a form.`)},"ActionImpl_MLsGa2EjBII",[o,n,e,l]),l}}const Ht=(t,e)=>{const n=new Ft(t,e);return typeof globalThis._qwikActionsMap>"u"&&(globalThis._qwikActionsMap=new Map),globalThis._qwikActionsMap.set(t.getHash(),n),n};O(Ht);class Yt{constructor(e){this.__qrl=e,this.__brand="server_loader"}use(){return y(U,e=>{const n=this.__qrl.getHash();if(!(n in e))throw new Error(`Loader was used in a path where the 'loader$' was not declared.
This is likely because the used loader was not exported in a layout.tsx or index.tsx file of the existing route.
For more information check: https://qwik.builder.io/qwikcity/loader`);return Ct(e,n)})}}const $t=t=>new Yt(t);O($t);const zt=async t=>{{let e=await t.resolve();return typeof e=="function"&&(e=e(K)),K.object(e)}};O(zt);export{te as L,Gt as Q,Kt as R,ee as S,at as a,Zt as b,Et as u};
