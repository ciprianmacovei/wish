import{componentQrl as D,inlinedQrl as u,useContext as R,jsx as G,SkipRender as yt,useEnvData as J,useStore as h,useContextProvider as f,useWatchQrl as vt,useLexicalScope as tt,getLocale as kt,noSerialize as et,Slot as O,useOnDocument as wt,createContext as _,withLocale as Y}from"@builder.io/qwik";import{jsx as q}from"@builder.io/qwik/jsx-runtime";const Lt=!0,_t=!1,Ct='((s,a,i,r)=>{i=(e,t)=>{t=document.querySelector("[q\\\\:base]"),t&&a.active&&a.active.postMessage({type:"qprefetch",base:t.getAttribute("q:base"),...e})},document.addEventListener("qprefetch",e=>{const t=e.detail;a?i(t):t.bundles&&s.push(...t.bundles)}),navigator.serviceWorker.register("/service-worker.js").then(e=>{r=()=>{a=e,i({bundles:s})},e.installing?e.installing.addEventListener("statechange",t=>{t.target.state=="activated"&&r()}):e.active&&r()}).catch(e=>console.error(e))})([])',nt=_("qc-c"),W=_("qc-ic"),j=_("qc-h"),Q=_("qc-l"),U=_("qc-n"),Qt=D(u(()=>{const{contents:t}=R(W);if(t&&t.length>0){const e=t.length;let n=null;for(let o=e-1;o>=0;o--)n=G(t[o].default,{children:n});return n}return yt},"RouterOutlet_component_AKetNByE5TM")),B=new WeakMap,I=Symbol(),A=Symbol(),L=new Map,Et=async(t,e,n,o)=>{if(Array.isArray(t))for(const s of t){const a=s[0].exec(o);if(a){const r=s[1],c=It(s[2],a),i=s[4],d=new Array(r.length),y=[],p=Pt(e,o);let C;return r.forEach((l,v)=>{$(l,y,S=>d[v]=S,n)}),$(p,y,l=>C=l==null?void 0:l.default,n),y.length>0&&await Promise.all(y),[c,d,C,i]}}return null},$=(t,e,n,o)=>{if(typeof t=="function"){const s=B.get(t);if(s)n(s);else{const a=t();typeof a.then=="function"?e.push(a.then(r=>{o!==!1&&B.set(t,r),n(r)})):a&&n(a)}}},Pt=(t,e)=>{if(t){e=e.endsWith("/")?e:e+"/";const n=t.find(o=>o[0]===e||e.startsWith(o[0]+(e.endsWith("/")?"":"/")));if(n)return n[1]}},It=(t,e)=>{const n={};if(t)for(let o=0;o<t.length;o++)n[t[o]]=e?e[o+1]:"";return n},qt=(t,e,n,o)=>{const s=M(),a={data:t?t.body:null,head:s,withLocale:r=>Y(o,r),...e};for(let r=n.length-1;r>=0;r--){const c=n[r]&&n[r].head;c&&(typeof c=="function"?z(s,Y(o,()=>c(a))):typeof c=="object"&&z(s,c))}return a.head},z=(t,e)=>{typeof e.title=="string"&&(t.title=e.title),b(t.meta,e.meta),b(t.links,e.links),b(t.styles,e.styles),Object.assign(t.frontmatter,e.frontmatter)},b=(t,e)=>{if(Array.isArray(e))for(const n of e){if(typeof n.key=="string"){const o=t.findIndex(s=>s.key===n.key);if(o>-1){t[o]=n;continue}}t.push(n)}},M=()=>({title:"",meta:[],links:[],styles:[],frontmatter:{}}),Ut=()=>R(j),Dt=()=>R(Q),Rt=()=>R(U),St=()=>et(J("qwikcity")),g=t=>t.pathname+t.search+t.hash,k=(t,e)=>new URL(t,e.href),ot=(t,e)=>t.origin===e.origin,st=(t,e)=>t.pathname+t.search===e.pathname+e.search,bt=(t,e)=>t.pathname===e.pathname,V=(t,e)=>ot(t,e)&&!st(t,e),xt=(t,e)=>t+(t.endsWith("/")?"":"/")+"q-data.json"+(e??""),Tt=(t,e)=>{const n=t.href;if(typeof n=="string"&&n.trim()!==""&&typeof t.target!="string")try{const o=k(n,e),s=k("",e);if(ot(o,s))return g(o)}catch(o){console.error(o)}return null},At=(t,e,n)=>{if(t.prefetch!==!1&&e){const o=k(e,n);if(!bt(o,k("",n)))return""}return null},Ot=(t,e)=>{const n=t.location,o=k(e.path,n);V(n,o)&&(Z(t,n,o),t.history.pushState("","",g(o))),t[A]||(t[A]=1,t.addEventListener("popstate",()=>{const s=t.location,a=k(e.path,s);V(s,a)&&(Z(t,a,s),e.path=g(s))}),t.removeEventListener("popstate",t[I]))},Z=async(t,e,n)=>{const o=t.document,s=n.hash;if(st(e,n))e.hash!==s&&(await x(),s?F(o,s):t.scrollTo(0,0));else if(s)for(let a=0;a<24&&(await x(),!F(o,s));a++);else await x(),t.scrollTo(0,0)},x=()=>new Promise(t=>setTimeout(t,12)),F=(t,e)=>{const n=e.slice(1),o=t.getElementById(n);return o&&o.scrollIntoView(),o},K=t=>{typeof document<"u"&&document.dispatchEvent(new CustomEvent("qprefetch",{detail:t}))},at=async(t,e)=>{const n=new URL(t),o=n.pathname,s=n.search,a=xt(o,s);let r=L.get(a);return K({links:[o]}),r||(r=fetch(a).then(c=>{if(c.ok&&(c.headers.get("content-type")||"").includes("json"))return c.json().then(i=>(K({bundles:i.prefetch}),e&&L.delete(a),i));L.delete(a)}),L.set(a,r)),r},Mt=D(u(()=>{const t=St();if(!(t!=null&&t.params))throw new Error("Missing Qwik City Env Data");const e=J("url");if(!e)throw new Error("Missing Qwik URL Env Data");const n=new URL(e),o=h({href:n.href,pathname:n.pathname,query:Object.fromEntries(n.searchParams.entries()),params:t.params}),s=h({path:g(n)}),a=h(M),r=h({headings:void 0,menu:void 0}),c=h({contents:void 0});return f(nt,r),f(W,c),f(j,a),f(Q,o),f(U,s),vt(u(async({track:i})=>{const[d,y,p,C,l,v]=tt(),S=kt(""),{routes:rt,menus:ct,cacheModules:it,trailingSlash:N}=await import("../@qwik-city-plan.mjs"),lt=i(()=>v.path),m=new URL(lt,l.href),E=m.pathname,ht=Et(rt,ct,it,E),ft=Lt?C.response:at(m.href,!0),H=await ht;if(H){const[ut,mt,dt]=H,P=mt,pt=P[P.length-1];if(E.endsWith("/")){if(!N){m.pathname=E.slice(0,-1),v.path=g(m);return}}else if(N){m.pathname+="/",v.path=g(m);return}l.href=m.href,l.pathname=E,l.params={...ut},l.query=Object.fromEntries(m.searchParams.entries()),d.headings=pt.headings,d.menu=dt,y.contents=et(P);const gt=await ft,w=qt(gt,l,P,S);L.clear(),p.links=w.links,p.meta=w.meta,p.styles=w.styles,p.title=w.title,p.frontmatter=w.frontmatter,_t&&Ot(window,v)}},"QwikCityProvider_component_useWatch_2Eo7WCpaqI8",[r,c,a,t,o,s])),q(O,{},"qY_0")},"QwikCityProvider_component_TxCFOy819ag"));u(t=>{const e=t.url??"http://localhost/",n=new URL(e),o=h({href:n.href,pathname:n.pathname,query:Object.fromEntries(n.searchParams.entries()),params:t.params??{}}),s=h({path:g(n)}),a=h(M),r=h({headings:void 0,menu:void 0}),c=h({contents:void 0});return f(nt,r),f(W,c),f(j,a),f(Q,o),f(U,s),q(O,{},"qY_1")},"QwikCityMockProvider_component_WmYC5H00wtI");const Nt=D(u(t=>{const e=Rt(),n=Dt(),o=t.href,s={...t},a=Tt(s,n),r=At(t,a,n);return s["preventdefault:click"]=!!a,s.href=a||o,wt("qinit",u(()=>{window[I]||(window[I]=()=>{window[A]||location.reload()},setTimeout(()=>{addEventListener("popstate",window[I])},0))},"Link_component_useOnDocument_u0YVoxt2aTY")),q("a",{...s,onClick$:u(()=>{const[c,i,d]=tt();c&&(d.path=i.href)},"Link_component_a_onClick_kzjavhDI3L0",[a,s,e]),"data-prefetch":r,onMouseOver$:u((c,i)=>X(i),"Link_component_a_onMouseOver_yiXwCC0m3jY"),onQVisible$:u((c,i)=>X(i,!0),"Link_component_a_onQVisible_EpaZ5qQ4Lg4"),children:q(O,{},"AD_0")})},"Link_component_8gdLBszqbaM")),X=(t,e)=>{t&&t.href&&t.hasAttribute("data-prefetch")&&(T||(T=innerWidth),(!e||e&&T<520)&&at(t.href))};let T=0;const Ht=()=>G("script",{dangerouslySetInnerHTML:Ct});export{Nt as L,Mt as Q,Qt as R,Ht as S,Rt as a,Ut as b,Dt as u};
